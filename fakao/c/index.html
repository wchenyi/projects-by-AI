<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>法考刷题系统</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 启动页面 -->
    <div class="start-overlay" id="startOverlay">
        <div class="start-panel">
            <h2>考试设置</h2>
            
            <div class="disclaimer">
                <strong>⚠️ 重要声明</strong>
                此页面并非司法部官方答题页面，本站是学习交流的前端项目练手，题目和法律法规来自"方圆众合教育"的相关页面，如认为侵权请联系修改或删除。本站仅为演示使用，任何人不得用于盈利，如有违反请自觉承担相应法律后果。
            </div>
            
            <form id="startForm" onsubmit="startExam(event)">
                <div class="form-group">
                    <label for="userName">姓名 <span style="color: #e74c3c;">*</span></label>
                    <input type="text" id="userName" required placeholder="请输入您的姓名">
                </div>
                
                <div class="form-group">
                    <label for="userExamId">准考证号 <span style="color: #e74c3c;">*</span></label>
                    <input type="text" id="userExamId" required placeholder="请输入准考证号">
                </div>
                
                <div class="form-group">
                    <label>计时方式</label>
                    <div class="timer-option">
                        <input type="radio" id="timerUp" name="timerMode" value="up" checked>
                        <label for="timerUp">正计时</label>
                    </div>
                    <div class="timer-option">
                        <input type="radio" id="timerDown" name="timerMode" value="down">
                        <label for="timerDown">倒计时</label>
                        <input type="number" id="countdownInput" min="1" max="300" placeholder="分钟" disabled>
                    </div>
                </div>
                
                <button type="submit" class="start-btn">开始答题</button>
            </form>
        </div>
    </div>

    <!-- 时间警告 -->
    <div class="time-warning" id="timeWarning" onclick="closeTimeWarning()">
        <div class="time-warning-content" onclick="event.stopPropagation()">
            <div class="time-warning-icon">⏰</div>
            <div class="time-warning-text">注意剩余时间！</div>
            <div class="time-warning-sub">距离考试结束还有10分钟</div>
            <div class="time-warning-sub" style="margin-top: 20px;">点击任意处关闭</div>
        </div>
    </div>

    <!-- 考试结束 -->
    <div class="exam-end-overlay" id="examEndOverlay">
        <div class="exam-end-panel">
            <h2>考试已结束</h2>
            <div class="exam-end-buttons">
                <button class="exam-end-btn btn-home" onclick="returnHome()">返回主页</button>
                <button class="exam-end-btn btn-review" onclick="reviewAnswers()">检查答案</button>
            </div>
        </div>
    </div>

    <!-- 修改警告 -->
    <div class="edit-warning" id="editWarning">
        <div class="edit-warning-text">时间已到，不可修改答案</div>
        <div class="edit-warning-sub">点击空白处关闭</div>
    </div>

    <!-- 切换侧边栏按钮 -->
    <button class="toggle-sidebar-btn" id="toggleSidebarBtn" onclick="toggleSidebar()">
        <span id="sidebarBtnText">隐藏</span>
    </button>

    <!-- 顶部栏 -->
    <div class="header" id="header">
        <div class="header-left">
            <button class="toggle-btn" onclick="toggleHeader()">
                <span id="headerBtnText">隐藏顶栏</span>
            </button>
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23ff6b6b'/%3E%3Ctext x='50' y='65' font-size='40' text-anchor='middle' fill='white'%3E考%3C/text%3E%3C/svg%3E" alt="头像" class="avatar">
            <div class="user-details">
                <div id="displayName">姓名: 未设置</div>
                <div id="displayExamId">准考证号: 未设置</div>
            </div>
        </div>
        <div class="header-center">
            <div class="exam-title">国家统一法律职业资格考试辅导计算机化考试模拟答题系统<br><span class="subtitle">2024法律职业资格考试真题(回忆版) 主观卷</span></div>
        </div>
        <div class="header-right">
            <div class="timer" id="timerDisplay">
                <span id="timerLabel">答题耗时</span> <span id="timeDisplay">00:00:00</span>
                <button class="pause-btn" id="pauseBtn">暂停</button>
            </div>
            <button class="submit-btn" onclick="submitExam()">交卷</button>
        </div>
    </div>

    <!-- 主体内容 -->
    <div class="container" id="container">
        <!-- 左侧区域 -->
        <div class="sidebar" id="sidebar">
            <!-- 题目选择器 -->
            <div class="question-selector">
                <h3>1、主观题</h3>
                <div class="question-numbers" id="questionNumbers"></div>
            </div>

            <!-- 注意事项 -->
            <div class="notice-box">
                <h3>说明:</h3>
                <div class="notice-item">题号右上角的"*"代表该题尚未作答。</div>
                <div class="notice-item">问题右上角的"?"代表该题已标记。</div>
                
                <div class="law-link">
                    <a href="https://www.zhumeilian.com?businessType=90&businessName=" target="_blank">法律法规汇编</a>
                </div>
            </div>
        </div>

        <!-- 右侧主内容 -->
        <div class="main-content">
            <!-- 题目区域 -->
            <div class="question-wrapper" id="questionWrapper">
                <div class="question-area">
                    <div class="toolbar">
                        <div class="toolbar-item">
                            <label>风格:</label>
                            <select id="styleSelect" onchange="changeStyle()">
                                <option value="default">默认</option>
                                <option value="dark">护眼</option>
                                <option value="classic">经典</option>
                            </select>
                        </div>
                        <div class="toolbar-item">
                            <label>字体:</label>
                            <select id="fontSelect" onchange="changeFont()">
                                <option value="Microsoft YaHei">微软雅黑</option>
                                <option value="SimSun">宋体</option>
                                <option value="KaiTi">楷体</option>
                            </select>
                        </div>
                        <div class="toolbar-item">
                            <label>字号:</label>
                            <select id="fontSizeSelect" onchange="changeFontSize()">
                                <option value="13">小</option>
                                <option value="15" selected>中</option>
                                <option value="17">大</option>
                                <option value="19">特大</option>
                            </select>
                        </div>
                        <button class="fullscreen-btn" onclick="toggleQuestionFullscreen()">
                            <span id="questionFullscreenText">放大窗口</span>
                        </button>
                    </div>

                    <div class="question-content" id="questionContent">
                        <div style="text-align: center; padding: 50px; color: #999;">正在加载题目...</div>
                    </div>
                </div>
            </div>

            <!-- 答题区域 -->
            <div class="answer-wrapper" id="answerWrapper">
                <div class="answer-area">
                    <div class="answer-header">
                        <div class="answer-header-left">
                            <span class="answer-label">答题区</span>
                            <span class="current-question" id="currentQuestion"></span>
                        </div>
                        <div class="answer-controls">
                            <label class="mark-checkbox">
                                <input type="checkbox" id="markCheckbox" onchange="toggleMark()">
                                <span>标记</span>
                            </label>
                            <span class="char-count">已输入: <span id="charCount">0</span></span>
                            <button class="answer-fullscreen-btn" onclick="toggleAnswerFullscreen()">
                                <span id="answerFullscreenText">放大</span>
                            </button>
                        </div>
                    </div>
                    <textarea id="answerInput" placeholder="请在此处输入您的答案..." oninput="updateCharCount()" onkeydown="handleAnswerInput(event)"></textarea>
                    
                    <!-- 问题切换区域 -->
                    <div class="question-tabs" id="questionTabs"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
