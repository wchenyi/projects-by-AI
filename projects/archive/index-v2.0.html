<!DOCTYPE html>
<html lang="zh" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的AI前端项目集 - 主页</title>
    <!-- Google Fonts: Inter (Material You 风格推荐字体) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 自定义关键帧动画，以确保在 Tailwind JIT 配置之外也能正常工作 */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideInFromLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes slideInFromRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
        @keyframes highlightBorder {
            0% { border-color: transparent; }
            50% { border-color: var(--highlight-color); }
            100% { border-color: transparent; }
        }

        .animate-fadeIn { animation: fadeIn 1s ease-out forwards; }
        .animate-fadeInUp { animation: fadeInUp 1s ease-out forwards; }
        .animate-slideInFromLeft { animation: slideInFromLeft 0.8s ease-out forwards; }
        .animate-slideInFromRight { animation: slideInFromRight 0.8s ease-out forwards; }
        .animate-zoomIn { animation: zoomIn 0.6s ease-out forwards; }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }

        /* 确保深色模式的平滑过渡 */
        html {
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
        }
        body {
            font-family: 'Inter', sans-serif; /* 全局应用 Inter 字体 */
        }

        /* 滚动条样式 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #a78bfa; /* 紫色 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: #8b5cf6; /* 更深的紫色 */
        }
        ::-webkit-scrollbar-track {
            background-color: #e5e7eb; /* 浅灰色 */
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background-color: #a78bfa; /* 深色模式下保持紫色 */
        }
        .dark ::-webkit-scrollbar-track {
            background-color: #4b5563; /* 深色模式下更深的灰色 */
        }
    </style>
</head>
<body class="font-sans min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-50 transition-colors duration-300 ease-in-out">

    <!-- Header 顶部导航栏 -->
    <header class="fixed top-0 left-0 w-full z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md shadow-sm dark:shadow-lg transition-colors duration-300 ease-in-out">
        <nav class="container mx-auto p-4 flex flex-col md:flex-row justify-between items-center max-w-7xl">
            <div class="flex items-center space-x-3 mb-4 md:mb-0">
                <!-- 页面 Logo Placeholder (Material You 风格，点击可跳转主页) -->
                <a href="index.html" class="flex items-center space-x-2 group">
                    <svg class="w-8 h-8 text-blue-600 dark:text-blue-400 transform group-hover:rotate-12 transition-transform duration-300" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-5H6l6-8 6 8h-3v5h-2v-5h-2v5z"/>
                    </svg>
                    <h1 class="text-3xl font-extrabold text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-300">
                        我的AI前端项目集
                    </h1>
                </a>
            </div>

            <!-- 搜索框 -->
            <div class="relative w-full md:w-1/3 mb-4 md:mb-0">
                <input type="text" id="searchBar" placeholder="搜索项目或AI分类..." class="w-full pl-10 pr-4 py-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                </div>
            </div>

            <!-- 右上角按钮群 -->
            <div class="flex items-center space-x-3">
                <!-- 简介按钮 -->
                <a href="about.html" class="flex items-center px-4 py-2 rounded-full bg-blue-100 dark:bg-blue-700 text-blue-700 dark:text-blue-100 hover:bg-blue-200 dark:hover:bg-blue-600 transition-all duration-300 ease-in-out font-medium shadow-sm">
                    <svg class="w-5 h-5 mr-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                    简介
                </a>
                <!-- 赞助按钮 -->
                <a href="sponsor.html" class="flex items-center px-4 py-2 rounded-full bg-green-100 dark:bg-green-700 text-green-700 dark:text-green-100 hover:bg-green-200 dark:hover:bg-green-600 transition-all duration-300 ease-in-out font-medium shadow-sm">
                    <svg class="w-5 h-5 mr-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><path d="M9 9h.01"/><path d="M15 9h.01"/></svg>
                    赞助
                </a>
                <!-- 深色模式切换按钮 -->
                <button id="darkModeToggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500" aria-label="Toggle dark mode">
                    <!-- Sun Icon -->
                    <svg id="sunIcon" class="w-6 h-6 transform rotate-0 hover:rotate-45 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="M4.93 4.93l1.41 1.41"/><path d="M17.66 17.66l1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="M4.93 19.07l1.41-1.41"/><path d="M17.66 6.34l1.41-1.41"/></svg>
                    <!-- Moon Icon -->
                    <svg id="moonIcon" class="w-6 h-6 transform rotate-0 hover:rotate-45 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
                </button>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 pt-28 max-w-7xl">
        <!-- Hero Banner Section 轮播图区域 -->
        <section id="heroBanner" class="relative w-full h-80 md:h-96 lg:h-[500px] overflow-hidden rounded-2xl shadow-xl mb-12 transform translate-y-20 scale-95 opacity-0 animate-fadeInUp">
            <!-- 轮播图内容将由 JavaScript 动态插入 -->
        </section>

        <!-- Projects Introduction Section 项目介绍 -->
        <section class="text-center mb-12 transform opacity-0 scale-95 animate-fadeInUp delay-500">
            <h2 class="text-4xl font-extrabold text-gray-800 dark:text-gray-100 mb-6">我的AI项目作品集</h2>
            <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                这里展示了我最近的一些前端AI开发项目，涵盖了不同的AI模型集成和技术栈。每个项目都是一次AI技术的探索与落地。
            </p>
        </section>

        <!-- Functional Category Filter Section 功能分类筛选 -->
        <section class="mb-8 p-4 bg-white dark:bg-gray-800 rounded-2xl shadow-lg animate-fadeInUp delay-600">
            <h3 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-4 text-center">按功能分类</h3>
            <div id="functionalCategoryFilter" class="flex flex-wrap justify-center gap-3">
                <!-- 功能分类按钮将由 JavaScript 动态插入 -->
            </div>
        </section>

        <!-- Featured Projects Section 得意项目区域 -->
        <section class="mb-12">
            <h2 class="text-4xl font-extrabold text-gray-800 dark:text-gray-100 text-center mb-8 animate-fadeInUp delay-700">
                ✨ 得意项目 ✨
            </h2>
            <div id="featuredProjectsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 p-4 transform opacity-0 scale-95 animate-fadeInUp delay-800">
                <!-- 得意项目卡片将由 JavaScript 动态插入 -->
            </div>
        </section>

        <!-- All Projects Grid Section 所有项目区域 -->
        <section class="mb-12">
            <h2 class="text-4xl font-extrabold text-gray-800 dark:text-gray-100 text-center mb-8 animate-fadeInUp delay-900">
                所有项目
            </h2>
            <div id="allProjectsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 p-4 transform opacity-0 scale-95 animate-fadeInUp delay-1000">
                <!-- 所有项目卡片将由 JavaScript 动态插入 -->
            </div>
        </section>

        <!-- Mainstream AI Tools Section 主流AI工具 -->
        <section class="mb-12 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg animate-fadeInUp delay-1100">
            <h2 class="text-3xl font-extrabold text-gray-800 dark:text-gray-100 text-center mb-6">主流AI工具</h2>
            <div id="mainstreamAiTools" class="flex flex-wrap justify-center gap-6">
                <!-- 主流AI工具卡片将由 JavaScript 动态插入 -->
            </div>
        </section>
    </main>

    <!-- Footer 页面底部 -->
    <footer class="bg-gray-200 dark:bg-gray-800 py-6 mt-12 text-center text-gray-600 dark:text-gray-400 transition-colors duration-300">
        <p class="mb-2">&copy; <span id="currentYear"></span> 我的AI前端作品集. 保留所有权利。</p>
        <div class="flex justify-center space-x-4 mb-2">
            <!-- 社交媒体链接 (示例，请替换为你的链接) -->
            <a href="#" target="_blank" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.238 2.753 7.848 6.551 9.127.48.088.654-.207.654-.46V19.7c-2.678.583-3.235-1.288-3.235-1.288-.438-1.112-1.07-1.411-1.07-1.411-.874-.597.066-.585.066-.585.969.068 1.478.995 1.478.995.86 1.477 2.25 1.05 2.793.804.087-.624.337-1.05.613-1.295-2.144-.243-4.402-1.072-4.402-4.78 0-1.058.377-1.926 1.002-2.603-.1-.244-.435-1.23.096-2.569 0 0 .817-.26 2.68.996.778-.216 1.608-.324 2.438-.328.83.004 1.66.112 2.438.328 1.862-1.256 2.68-.996 2.68-.996.53 1.339.195 2.325.096 2.569.626.677 1.002 1.545 1.002 2.603 0 3.717-2.262 4.532-4.411 4.771.347.298.654.887.654 1.787v2.646c0 .257.174.552.659.46 3.791-1.279 6.54-4.889 6.54-9.127C22 6.477 17.523 2 12 2z"/></svg>
            </a>
            <a href="#" target="_blank" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M22.46 6c-.8.36-1.6.6-2.4.74.9-.54 1.6-1.32 1.94-2.28-.88.52-1.84.9-2.82 1.1-.82-.88-2.02-1.44-3.34-1.44-2.54 0-4.6 2.06-4.6 4.6 0 .36.04.7.12 1.02-3.82-.2-7.2-2.02-9.46-4.82-.4.68-.64 1.46-.64 2.3 0 1.6.8 3 2 3.82-.74-.02-1.4-.2-2-.52v.06c0 2.24 1.6 4.1 3.7 4.5-0.4.1-.82.12-1.24.04.62 1.84 2.42 3.18 4.56 3.22-1.6 1.26-3.6 2-5.8 2-.36 0-.7-.02-1.04-.06C4.4 20.2 6.78 21 9.3 21c7.4 0 11.46-6.14 11.46-11.46 0-.16-.02-.32-.02-.48.78-.56 1.46-1.26 2-2.06z"/></svg>
            </a>
            <!-- 更多社交媒体图标... -->
        </div>
        <p class="text-sm">建站天数: <span id="siteDays"></span> | 页面打开次数: <span id="pageViews"></span> | 浏览量: <span id="totalViews"></span></p>
    </footer>

    <script>
        // Tailwind CSS 配置
        tailwind.config = {
            darkMode: 'class', // 启用深色模式
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'], // 推荐使用 Inter 字体
                    },
                    colors: {
                        // 自定义颜色（Material You 风格的色彩倾向）
                        'primary-blue': '#64B5F6', // 亮蓝色
                        'dark-primary-blue': '#1976D2', // 深蓝色
                        'accent-green': '#81C784', // 亮绿色
                        'dark-accent-green': '#388E3C', // 深绿色
                        'surface-light': '#F5F5F5', // 浅色背景
                        'surface-dark': '#212121', // 深色背景

                        // AI 工具的特定颜色 (可自定义，确保深色模式下有对比度)
                        'ai-chatgpt': '#000000', // 黑色
                        'ai-chatgpt-dark': '#E0E0E0', // 深色模式下为浅灰色
                        'ai-gemini': '#1A73E8', // 谷歌蓝
                        'ai-gemini-dark': '#66A5EE',
                        'ai-claude': '#FF9900', // 橙色
                        'ai-claude-dark': '#FFB74D',
                        'ai-perplexity': '#1A1A1A', // 黑色
                        'ai-perplexity-dark': '#B0B0B0',
                        'ai-copilot': '#E24C3C', // 红色
                        'ai-copilot-dark': '#F07A6F',
                        'ai-cursor': '#673AB7', // 深紫色
                        'ai-cursor-dark': '#9575CD',
                        'ai-gas': '#4285F4', // 谷歌蓝
                        'ai-gas-dark': '#8AB4F8',
                        'ai-all': '#7B1FA2', // 综合AI默认紫色
                        'ai-all-dark': '#CE93D8',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        slideInFromLeft: { '0%': { opacity: '0', transform: 'translateX(-20px)' }, '100%': { opacity: '1', transform: 'translateX(0)' } },
                        slideInFromRight: { '0%': { opacity: '0', transform: 'translateX(20px)' }, '100%': { opacity: '1', transform: 'translateX(0)' } },
                        zoomIn: { '0%': { opacity: '0', transform: 'scale(0.8)' }, '100%': { opacity: '1', transform: 'scale(1)' } },
                    },
                    animation: {
                        fadeIn: 'fadeIn 1s ease-out forwards',
                        fadeInUp: 'fadeInUp 1s ease-out forwards',
                        slideInFromLeft: 'slideInFromLeft 0.8s ease-out forwards',
                        slideInFromRight: 'slideInFromRight 0.8s ease-out forwards',
                        zoomIn: 'zoomIn 0.6s ease-out forwards',
                    },
                },
            },
        };

        // --- 项目数据定义 ---
        // 'functionalCategory': 项目的功能分类 (页面, 工具, 生活, 杂七杂八)
        // 'aiTools': 项目中使用的 AI 工具列表 (对应 aiToolColors 中的 key)
        // 'featured': 是否为推荐项目 (得意项目)
        const projects = [
            { id: 1, title: "AI电商助手", description: "利用AI推荐算法的电商平台，提升用户购物体验。", imageUrl: "https://placehold.co/400x250/C1E1C1/000000?text=AI电商", techStack: ["React", "Python", "TensorFlow"], liveUrl: "#", githubUrl: "#", functionalCategory: "页面", aiTools: ["AI", "Gemini"], featured: true },
            { id: 2, title: "ChatGPT智能客服", description: "基于ChatGPT的智能客服系统，实现24/7在线支持。", imageUrl: "https://placehold.co/400x250/DDA0DD/000000?text=AI客服", techStack: ["Vue.js", "OpenAI API"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["ChatGPT"], featured: false },
            { id: 3, title: "Gemini天气预测", description: "结合Gemini Pro Vision的气象数据分析与天气预报应用。", imageUrl: "https://placehold.co/400x250/ADD8E6/000000?text=天气AI", techStack: ["Vanilla JS", "Gemini API"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["Gemini"], featured: true },
            { id: 4, title: "AI绘图工具前端", description: "连接到生成式AI模型的在线绘图板，支持文本转图像。", imageUrl: "https://placehold.co/400x250/F08080/000000?text=AI绘图", techStack: ["HTML5 Canvas", "Stable Diffusion"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["AI"], featured: false },
            { id: 5, title: "Copilot代码助手插件", description: "一个VS Code前端扩展，利用Copilot生成代码片段。", imageUrl: "https://placehold.co/400x250/98FB98/000000?text=Copilot", techStack: ["TypeScript", "VS Code API"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["Copilot"], featured: false },
            { id: 6, title: "Perplexity新闻摘要", description: "抓取新闻并使用Perplexity API生成简洁摘要的阅读应用。", imageUrl: "https://placehold.co/400x250/F0E68C/000000?text=新闻AI", techStack: ["React", "Perplexity AI"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["Perplexity"], featured: true },
            { id: 7, title: "Cursor代码重构工具", description: "集成Cursor IDE功能的Web界面，辅助代码重构和优化。", imageUrl: "https://placehold.co/400x250/B0E0E6/000000?text=AI重构", techStack: ["JavaScript", "CodeMirror"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["Cursor"], featured: false },
            { id: 8, title: "CLaude聊天机器人", description: "一个基于CLaude的对话式AI界面，支持多轮对话。", imageUrl: "https://placehold.co/400x250/D3D3D3/000000?text=CLaude聊天", techStack: ["React", "Anthropic API"], liveUrl: "#", githubUrl: "#", functionalCategory: "页面", aiTools: ["CLaude"], featured: false },
            { id: 9, title: "GAS自动化报告", description: "使用Google Apps Script (GAS) 自动化生成报告，结合Google AI服务。", imageUrl: "https://placehold.co/400x250/E0BBE4/000000?text=GAS自动化", techStack: ["Google Apps Script", "Google AI"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["GAS"], featured: false },
            { id: 10, title: "多模态AI应用界面", description: "展示Gemini多模态能力的互动界面，支持图像、文本输入。", imageUrl: "https://placehold.co/400x250/957DAD/000000?text=多模态AI", techStack: ["Vue.js", "Gemini API"], liveUrl: "#", githubUrl: "#", functionalCategory: "页面", aiTools: ["Gemini", "AI"], featured: true },
            { id: 11, title: "AI简历分析器", description: "利用AI解析和优化简历内容的工具。", imageUrl: "https://placehold.co/400x250/C7B0D1/000000?text=AI简历", techStack: ["React", "NLP"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["AI"], featured: false },
            { id: 12, title: "Copilot集成代码编辑器", description: "一个嵌入Copilot建议的在线代码编辑器。", imageUrl: "https://placehold.co/400x250/A79DC2/000000?text=Copilot编辑", techStack: ["HTML", "CSS", "Monaco Editor"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["Copilot"], featured: false },
            { id: 13, title: "AI驱动的待办事项", description: "智能待办事项应用，利用AI优先级排序和任务建议。", imageUrl: "https://placehold.co/400x250/8D81AE/000000?text=AI待办", techStack: ["React", "AI Models"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["AI"], featured: false },
            { id: 14, title: "ChatGPT游戏生成器", description: "基于ChatGPT的简单游戏场景和对话生成器。", imageUrl: "https://placehold.co/400x250/6A5ACD/000000?text=AI游戏", techStack: ["Vanilla JS", "ChatGPT API"], liveUrl: "#", githubUrl: "#", functionalCategory: "杂七杂八", aiTools: ["ChatGPT"], featured: false },
            { id: 15, title: "AI音乐推荐器", description: "根据用户情绪和偏好推荐音乐的AI应用。", imageUrl: "https://placehold.co/400x250/483D8B/000000?text=AI音乐", techStack: ["HTML", "CSS", "JavaScript"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["AI"], featured: false },
            { id: 16, title: "CLaude内容创作助手", description: "一个利用CLaude辅助写作和内容生成的Web工具。", imageUrl: "https://placehold.co/400x250/20B2AA/000000?text=CLaude创作", techStack: ["React", "Anthropic API"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["CLaude"], featured: false },
            { id: 17, title: "Gemini图片描述器", description: "上传图片，通过Gemini Vision生成详细描述的应用。", imageUrl: "https://placehold.co/400x250/7FFFD4/000000?text=Gemini图片", techStack: ["Vue.js", "Gemini API"], liveUrl: "#", githubUrl: "#", functionalCategory: "工具", aiTools: ["Gemini"], featured: false },
            { id: 18, title: "AI智能家居控制", description: "通过语音或AI识别控制智能家居设备。", imageUrl: "https://placehold.co/400x250/90EE90/000000?text=智能家居", techStack: ["WebSockets", "Smart Home API"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["AI"], featured: false },
            { id: 19, title: "AI旅游规划师", description: "根据用户偏好和预算生成旅行路线。", imageUrl: "https://placehold.co/400x250/87CEEB/000000?text=旅游规划", techStack: ["Next.js", "Map API"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["Perplexity"], featured: false },
            { id: 20, title: "AI健康饮食建议", description: "分析用户健康数据，提供个性化饮食建议。", imageUrl: "https://placehold.co/400x250/FFB6C1/000000?text=健康饮食", techStack: ["Flutter", "Health API"], liveUrl: "#", githubUrl: "#", functionalCategory: "生活", aiTools: ["AI"], featured: false },
        ];

        // 轮播图数据
        const slides = [
            { title: "探索我的AI前端世界", description: "一系列基于现代AI模型和技术栈的精选项目。", imageUrl: "https://placehold.co/1200x500/A0DAFB/000000?text=AI项目展示" },
            { title: "创新与实践", description: "每个项目都是一次AI技术的探索与落地。", imageUrl: "https://placehold.co/1200x500/FEC8D8/000000?text=AI技术实践" },
            { title: "精美界面与交互", description: "注重用户体验和AI功能的无缝融合。", imageUrl: "https://placehold.co/1200x500/E0BBE4/000000?text=AI用户体验" },
        ];

        // AI 工具的颜色映射 (键为 aiTools 数组中的字符串，值为 Tailwind 颜色类)
        // 请在此处增删修改 AI 工具及其对应颜色，确保深色模式的颜色也定义好
        const aiToolColors = {
            "ChatGPT": { bg: "bg-ai-chatgpt", text: "text-white", darkBg: "dark:bg-ai-chatgpt-dark", darkText: "dark:text-gray-900" },
            "Gemini": { bg: "bg-ai-gemini", text: "text-white", darkBg: "dark:bg-ai-gemini-dark", darkText: "dark:text-gray-900" },
            "CLaude": { bg: "bg-ai-claude", text: "text-white", darkBg: "dark:bg-ai-claude-dark", darkText: "dark:text-gray-900" },
            "Perplexity": { bg: "bg-ai-perplexity", text: "text-white", darkBg: "dark:bg-ai-perplexity-dark", darkText: "dark:text-gray-900" },
            "Copilot": { bg: "bg-ai-copilot", text: "text-white", darkBg: "dark:bg-ai-copilot-dark", darkText: "dark:text-gray-900" },
            "Cursor": { bg: "bg-ai-cursor", text: "text-white", darkBg: "dark:bg-ai-cursor-dark", darkText: "dark:text-gray-900" },
            "GAS": { bg: "bg-ai-gas", text: "text-white", darkBg: "dark:bg-ai-gas-dark", darkText: "dark:text-gray-900" },
            "AI": { bg: "bg-ai-all", text: "text-white", darkBg: "dark:bg-ai-all-dark", darkText: "dark:text-gray-900" }, // 综合AI默认颜色
        };

        // AI 工具的图标 SVG 映射
        // 请在此处增删修改 AI 工具及其对应 SVG 代码
        const aiToolIcons = {
            "ChatGPT": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>`,
            "Gemini": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M12 2L6 12l6 10 6-10zM12 2l-6 10h12z"/></svg>`,
            "CLaude": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M6 3L2 12l4 9h12l4-9-4-9z"/><path d="M12 7v10"/><path d="M8 12h8"/></svg>`,
            "Perplexity": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M15 22.5c-.326-1.127-1.428-2.022-2.73-2.502C10.74 19.518 9.26 19.518 7.97 19.998c-1.302.48-2.404 1.375-2.73 2.502h-2C4 16.5 8.5 12 12 12c3.5 0 8 4.5 8 10.5h-2c-.326-1.127-1.428-2.022-2.73-2.502C15.26 19.518 13.74 19.518 12.45 19.998zM12 2C8.686 2 6 4.686 6 8c0 2.298 1.15 4.305 2.872 5.5H12v-2.5H8v-3c0-2.298 1.15-4.305 2.872-5.5h2.256C15.85 3.695 17 5.702 17 8c0 1.62-0.782 3.064-2 4.142V14h-2V9.5h-1V8h3z"/></svg>`,
            "Copilot": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M19 14.5a.5.5 0 0 0-.5-.5H12a.5.5 0 0 0-.5.5V18a.5.5 0 0 0 .5.5h6.5a.5.5 0 0 0 .5-.5zM5 9.5a.5.5 0 0 0-.5-.5H12a.5.5 0 0 0 .5.5V6a.5.5 0 0 0-.5-.5H5.5a.5.5 0 0 0-.5.5z"/></svg>`,
            "Cursor": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M17 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM9 8v8h2V8h-2zm4 0v8h2V8h-2z"/></svg>`,
            "GAS": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>`,
            "AI": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 mr-1"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zM9.5 8.5v.01M14.5 8.5v.01M9.5 15.5s1 2 2.5 2 2.5-2 2.5-2"/></svg>`,
        };

        // --- 功能分类选项 ---
        // key: 内部使用的英文标识
        // name: 显示名称
        // icon: SVG 路径 (请在此处增删修改图标)
        const functionalCategories = [
            { key: "All", name: "全部", icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M4 12c-1.1 0-2 .9-2 2s.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2"/><path d="M4 10c-1.1 0-2-.9-2-2s.9-2 2-2h16c1.1 0 2 .9 2 2s-.9 2-2 2"/></svg>` },
            { key: "页面", name: "页面", icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M21 7V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2m-2 0H5V5h14v14z"/></svg>` }, // 网页图标
            { key: "工具", name: "工具", icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M19.38 12.02A6.983 6.983 0 0 0 17 8.01v-1c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v1H6c-1.66 0-3 1.34-3 3v2c0 1.66 1.34 3 3 3h2c0 .55.45 1 1 1h7c.55 0 1-.45 1-1v-1a6.983 6.983 0 0 0 2.38-4.02zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg>` }, // 扳手图标
            { key: "生活", name: "生活", icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/></svg>` }, // 心跳或生活图标
            { key: "杂七杂八", name: "杂七杂八", icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M19 12h-2V7h-4V5h4V3h2V5h2V7h-2v5zm-5 5h-2V9h-4V7h4V5h2v2h2v2h-2v8zm-2-4H7V7h4v6z"/></svg>` }, // 方块组合
        ];

        // 主流 AI 工具数据 (用于页面底部的卡片)
        const mainstreamAiTools = [
            { name: "ChatGPT", url: "https://openai.com/chatgpt/", icon: aiToolIcons["ChatGPT"], color: aiToolColors["ChatGPT"] },
            { name: "Gemini", url: "https://gemini.google.com/", icon: aiToolIcons["Gemini"], color: aiToolColors["Gemini"] },
            { name: "CLaude", url: "https://claude.ai/", icon: aiToolIcons["CLaude"], color: aiToolColors["CLaude"] },
            { name: "Perplexity", url: "https://www.perplexity.ai/", icon: aiToolIcons["Perplexity"], color: aiToolColors["Perplexity"] },
            { name: "Copilot", url: "https://github.com/features/copilot", icon: aiToolIcons["Copilot"], color: aiToolColors["Copilot"] },
            { name: "Cursor", url: "https://cursor.sh/", icon: aiToolIcons["Cursor"], color: aiToolColors["Cursor"] },
            { name: "Google Apps Script", url: "https://developers.google.com/apps-script", icon: aiToolIcons["GAS"], color: aiToolColors["GAS"] },
            // 你可以在这里继续添加更多主流 AI 工具
        ];


        // --- 工具函数 ---
        function getSavedTheme() {
            return localStorage.getItem('theme');
        }

        function setSavedTheme(theme) {
            localStorage.setItem('theme', theme);
        }

        function applyTheme(isDarkMode) {
            const htmlElement = document.documentElement;
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');

            if (isDarkMode) {
                htmlElement.classList.add('dark');
                if (sunIcon) sunIcon.style.display = 'block';
                if (moonIcon) moonIcon.style.display = 'none';
            } else {
                htmlElement.classList.remove('dark');
                if (sunIcon) sunIcon.style.display = 'none';
                if (moonIcon) moonIcon.style.display = 'block';
            }
        }

        // --- DOMContentLoaded 事件监听器 ---
        document.addEventListener('DOMContentLoaded', () => {
            // 深色模式切换逻辑
            const darkModeToggle = document.getElementById('darkModeToggle');
            const savedTheme = getSavedTheme();
            let isDarkMode = savedTheme === 'dark' || (savedTheme === null && window.matchMedia('(prefers-color-scheme: dark)').matches);
            applyTheme(isDarkMode);
            darkModeToggle.addEventListener('click', () => {
                isDarkMode = !isDarkMode;
                applyTheme(isDarkMode);
                setSavedTheme(isDarkMode ? 'dark' : 'light');
            });

            // 更新页脚年份
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // 网站统计信息 (占位符)
            const startDate = new Date('2023-01-01'); // 你的建站日期
            const today = new Date();
            const diffTime = Math.abs(today - startDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById('siteDays').textContent = diffDays;
            document.getElementById('pageViews').textContent = localStorage.getItem('pageViews') || 0; // 模拟页面打开次数
            document.getElementById('totalViews').textContent = localStorage.getItem('totalViews') || 0; // 模拟总浏览量

            // 增加页面打开次数和总浏览量
            let pageViews = parseInt(localStorage.getItem('pageViews') || 0) + 1;
            let totalViews = parseInt(localStorage.getItem('totalViews') || 0) + 1;
            localStorage.setItem('pageViews', pageViews);
            localStorage.setItem('totalViews', totalViews);
        });


        // --- Hero Banner 轮播图逻辑 ---
        document.addEventListener('DOMContentLoaded', () => {
            const heroBanner = document.getElementById('heroBanner');
            let currentSlide = 0;

            function renderSlides() {
                heroBanner.innerHTML = ''; // 清空现有轮播图内容
                slides.forEach((slide, index) => {
                    const slideDiv = document.createElement('div');
                    slideDiv.className = `absolute inset-0 transition-opacity duration-1000 ease-in-out flex items-center justify-center ${
                        index === currentSlide ? 'opacity-100' : 'opacity-0'
                    }`;
                    slideDiv.style.backgroundImage = `url(${slide.imageUrl})`;
                    slideDiv.style.backgroundSize = 'cover';
                    slideDiv.style.backgroundPosition = 'center';

                    slideDiv.innerHTML = `
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center text-center p-4">
                            <h2 class="text-4xl md:text-5xl font-bold text-white mb-4 animate-slideInFromLeft">${slide.title}</h2>
                            <p class="text-lg md:text-xl text-white text-opacity-80 animate-slideInFromRight">${slide.description}</p>
                            <button class="mt-8 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full shadow-lg transition-transform transform hover:scale-105 duration-300 animate-zoomIn">
                                了解更多
                            </button>
                        </div>
                    `;
                    heroBanner.appendChild(slideDiv);
                });

                // 添加轮播图分页点
                const dotsContainer = document.createElement('div');
                dotsContainer.className = 'absolute bottom-4 left-0 right-0 flex justify-center space-x-2';
                slides.forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.className = `w-3 h-3 rounded-full transition-all duration-300 ${
                        index === currentSlide ? 'bg-white scale-125' : 'bg-gray-400 dark:bg-gray-600'
                    }`;
                    dot.addEventListener('click', () => {
                        currentSlide = index;
                        renderSlides();
                    });
                    dotsContainer.appendChild(dot);
                });
                heroBanner.appendChild(dotsContainer);
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                renderSlides();
            }

            // 初始渲染
            renderSlides();
            const timer = setInterval(nextSlide, 5000); // 每 5 秒切换一次
            window.addEventListener('beforeunload', () => clearInterval(timer)); // 页面卸载时清除定时器
        });

        // --- 项目卡片渲染逻辑 (通用函数) ---
        // `isFeatured` 参数用于渲染不同风格的卡片
        function renderProjectCard(project, isFeatured = false) {
            const bgColors = [
                "bg-blue-100 dark:bg-blue-800",
                "bg-green-100 dark:bg-green-800",
                "bg-purple-100 dark:bg-purple-800",
                "bg-yellow-100 dark:bg-yellow-800",
                "bg-red-100 dark:bg-red-800",
                "bg-indigo-100 dark:bg-indigo-800",
                "bg-pink-100 dark:bg-pink-800",
            ];
            const randomBg = bgColors[Math.floor(Math.random() * bgColors.length)];

            // 得意项目卡片的特殊样式
            const cardClasses = isFeatured
                ? `border-4 border-purple-500 dark:border-yellow-400 ${randomBg} rounded-3xl shadow-2xl dark:shadow-purple-500/50 overflow-hidden flex flex-col transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-3xl hover:-translate-y-3 group relative p-4 `
                : `${randomBg} rounded-2xl shadow-lg dark:shadow-xl overflow-hidden flex flex-col transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-2xl hover:-translate-y-2 group`;

            const projectCard = document.createElement('div');
            projectCard.className = cardClasses;

            // 如果是得意项目，添加一个彩带或徽章
            if (isFeatured) {
                projectCard.innerHTML = `
                    <div class="absolute top-0 right-0 bg-gradient-to-br from-purple-500 to-pink-500 text-white text-xs font-bold py-1 px-4 rounded-bl-lg z-10 transform translate-x-1 translate-y-1 rotate-3 shadow-md">
                        推荐
                    </div>
                `;
            }

            // AI 工具的标签 (Tabs)
            const aiToolTags = project.aiTools.map(toolKey => {
                const colors = aiToolColors[toolKey] || aiToolColors["AI"]; // 默认使用综合AI颜色
                const icon = aiToolIcons[toolKey] || ''; // 获取对应图标
                return `
                    <span class="flex items-center px-2 py-1 ${colors.bg} ${colors.text} ${colors.darkBg} ${colors.darkText} text-xs font-semibold rounded-full shadow-sm transition-colors duration-200">
                        ${icon} ${toolKey}
                    </span>
                `;
            }).join('');


            projectCard.innerHTML += `
                <!-- 项目图片 -->
                <div class="relative overflow-hidden ${isFeatured ? 'rounded-xl' : ''}">
                    <img
                        src="${project.imageUrl}"
                        alt="${project.title}"
                        class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110 ${isFeatured ? 'border-2 border-purple-300 dark:border-yellow-300' : ''}"
                        onerror="this.onerror=null;this.src='https://placehold.co/400x250/D3D3D3/000000?text=无法加载图片';"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                        <h3 class="text-xl font-bold text-white drop-shadow-lg">${project.title}</h3>
                    </div>
                </div>

                <!-- 项目详情 -->
                <div class="p-6 flex flex-col flex-grow text-gray-800 dark:text-gray-100">
                    <p class="text-sm md:text-base mb-4 text-gray-700 dark:text-gray-300 flex-grow">
                        ${project.description}
                    </p>

                    <!-- AI 工具标签 -->
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${aiToolTags}
                    </div>

                    <!-- 技术栈标签 -->
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${project.techStack.map(tech => `
                            <span class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-xs font-semibold rounded-full shadow-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200">
                                ${tech}
                            </span>
                        `).join('')}
                    </div>

                    <!-- 操作按钮 -->
                    <div class="flex justify-end space-x-3 mt-auto">
                        <a
                            href="${project.liveUrl}"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-full shadow-md transition-all duration-300 transform hover:scale-105"
                            aria-label="View live demo of ${project.title}"
                        >
                            <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07L13 4.93a1 1 0 0 0 0 1.41l.71.71A1 1 0 0 1 12 7.07L7.07 12a5 5 0 0 0 7.07 7.07l.71-.71A1 1 0 0 0 17.07 18L12 12.93a5 5 0 0 0-7.07-7.07l-3 3a5 5 0 0 0 7.54.54"/></svg>
                            查看
                        </a>
                        <a
                            href="${project.githubUrl}"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="flex items-center px-4 py-2 bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 text-white text-sm font-semibold rounded-full shadow-md transition-all duration-300 transform hover:scale-105"
                            aria-label="View GitHub repository for ${project.title}"
                        >
                            <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.2c3.5-0.4 7.2-2.7 7.2-7.5 0-1.5-0.6-2.7-1.7-3.7 0.1-0.3 0.6-1.5 0-3.8 0 0-1.1-0.3-3.6 1.4a12.6 12.6 0 0 0-5.8 0c-2.5-1.7-3.6-1.4-3.6-1.4-0.6 2.3-0.1 3.5 0 3.8-1.1 1-1.7 2.2-1.7 3.7 0 4.8 3.7 7.1 7.2 7.5a4.8 4.8 0 0 0-1 3.2v4"/></svg>
                            GitHub
                        </a>
                    </div>
                </div>
            `;
            return projectCard;
        }

        // --- 功能分类筛选逻辑 ---
        let currentActiveFunctionalCategory = "All"; // 默认激活 '全部' 类别
        let currentSearchQuery = ""; // 当前搜索关键词

        function renderFunctionalCategoryButtons() {
            const functionalCategoryFilterDiv = document.getElementById('functionalCategoryFilter');
            functionalCategoryFilterDiv.innerHTML = ''; // 清空现有按钮

            functionalCategories.forEach(category => {
                const button = document.createElement('button');
                button.dataset.category = category.key;
                button.className = `
                    flex items-center px-5 py-2 rounded-full text-sm font-medium
                    transition-all duration-300 ease-in-out
                    ${currentActiveFunctionalCategory === category.key
                        ? 'bg-blue-600 text-white shadow-md' // 激活状态
                        : 'bg-gray-200 text-gray-700 hover:bg-blue-100 hover:text-blue-700 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-blue-400' // 非激活状态
                    }
                    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50
                `;
                button.innerHTML = `${category.icon}<span>${category.name}</span>`;
                button.addEventListener('click', () => {
                    currentActiveFunctionalCategory = category.key;
                    renderFunctionalCategoryButtons(); // 重新渲染按钮以更新激活状态
                    filterAndRenderProjects();      // 过滤项目并重新渲染
                });
                functionalCategoryFilterDiv.appendChild(button);
            });
        }

        // --- 过滤并渲染项目的主函数 ---
        function filterAndRenderProjects() {
            let filteredProjects = projects;

            // 1. 按功能分类过滤
            if (currentActiveFunctionalCategory !== "All") {
                filteredProjects = filteredProjects.filter(project => project.functionalCategory === currentActiveFunctionalCategory);
            }

            // 2. 按搜索关键词过滤 (名称或AI工具)
            if (currentSearchQuery) {
                const query = currentSearchQuery.toLowerCase();
                filteredProjects = filteredProjects.filter(project =>
                    project.title.toLowerCase().includes(query) ||
                    project.aiTools.some(tool => tool.toLowerCase().includes(query))
                );
            }

            // 分离得意项目和普通项目
            const featuredProjects = filteredProjects.filter(project => project.featured);
            const regularProjects = filteredProjects.filter(project => !project.featured);

            const featuredProjectsGrid = document.getElementById('featuredProjectsGrid');
            const allProjectsGrid = document.getElementById('allProjectsGrid');

            featuredProjectsGrid.innerHTML = '';
            allProjectsGrid.innerHTML = '';

            // 渲染得意项目
            if (featuredProjects.length > 0) {
                 // 确保得意项目部分可见
                document.querySelector('section.mb-12 h2.text-4xl').style.display = 'block'; // 显示得意项目标题
                featuredProjects.forEach(project => {
                    featuredProjectsGrid.appendChild(renderProjectCard(project, true));
                });
            } else {
                // 如果没有得意项目，可以隐藏标题或显示提示
                document.querySelector('section.mb-12 h2.text-4xl').style.display = 'none'; // 隐藏得意项目标题
            }


            // 渲染所有项目 (非得意项目)
            if (regularProjects.length > 0) {
                 document.querySelector('section:nth-of-type(4) h2.text-4xl').style.display = 'block'; // 显示所有项目标题
                regularProjects.forEach(project => {
                    allProjectsGrid.appendChild(renderProjectCard(project, false));
                });
            } else {
                 document.querySelector('section:nth-of-type(4) h2.text-4xl').style.display = 'none'; // 隐藏所有项目标题
            }

        }

        // --- 搜索栏事件监听 ---
        document.addEventListener('DOMContentLoaded', () => {
            const searchBar = document.getElementById('searchBar');
            searchBar.addEventListener('input', (event) => {
                currentSearchQuery = event.target.value.trim();
                filterAndRenderProjects();
            });
        });

        // --- 主流 AI 工具卡片渲染 ---
        document.addEventListener('DOMContentLoaded', () => {
            const mainstreamAiToolsDiv = document.getElementById('mainstreamAiTools');
            mainstreamAiTools.forEach(tool => {
                const toolCard = document.createElement('a');
                toolCard.href = tool.url;
                toolCard.target = "_blank";
                toolCard.rel = "noopener noreferrer";
                toolCard.className = `
                    flex flex-col items-center p-4 rounded-xl shadow-md cursor-pointer
                    ${tool.color.bg} ${tool.color.text} ${tool.color.darkBg} ${tool.color.darkText}
                    hover:scale-105 hover:shadow-lg transition-all duration-300 ease-in-out
                `;
                toolCard.innerHTML = `
                    <div class="w-12 h-12 mb-2 flex items-center justify-center">
                        ${tool.icon}
                    </div>
                    <span class="font-semibold text-lg">${tool.name}</span>
                `;
                mainstreamAiToolsDiv.appendChild(toolCard);
            });
        });


        // --- 页面加载时初始化 ---
        document.addEventListener('DOMContentLoaded', () => {
            renderFunctionalCategoryButtons(); // 渲染功能分类按钮
            filterAndRenderProjects(); // 首次加载时渲染所有项目
        });
    </script>
</body>
</html>
